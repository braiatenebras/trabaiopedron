<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Perfil - Mural</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="perfil.css">
</head>

<body>
    <!-- seta de voltar -->
    <a onclick="history.back()" class="voltar-link" style="cursor: pointer;">
        <i class="fas fa-arrow-left"></i>
    </a>

    <!-- Conteúdo Principal - Área da Conta -->
    <main class="conta-container">
        <div class="conteiner">
            <h1> Meu Perfil </h1>

            <div class="conta-info">
                <div class="conta-header">
                    <div class="avatar-container">
                        <div class="avatar" id="avatar">
                            <img id="foto-perfil" src="" alt="Foto de perfil">
                            <i class="fas fa-user-circle default-avatar" id="default-avatar"></i>
                        </div>
                        <label for="foto-input" class="avatar-upload-btn">
                            <i class="fas fa-camera"></i>
                            <input type="file" id="foto-input" accept="image/*" style="display: none;">
                        </label>
                    </div>
                    <h2 id="nome-usuario">Carregando...</h2>
                    <p id="email-usuario">Carregando...</p>
                </div>

                <div class="conta-menu">
                    <div class="menu-opcao active" data-section="dados">
                        <i class="fas fa-user"></i>
                        <span>Meus Dados</span>
                    </div>
                    <div class="menu-opcao" data-section="seguranca">
                        <i class="fas fa-lock"></i>
                        <span>Segurança</span>
                    </div>
                    <button id="logout-btn" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Sair</span>
                    </button>
                </div>
            </div>

            <div class="conteudo-conta">
                <!-- Seção Meus Dados -->
                <div class="conta-secao active" id="dados-secao">
                    <h3>Informações Pessoais</h3>
                    <form id="form-dados">
                        <div class="form-group">
                            <label for="nome-completo">Nome Completo</label>
                            <input type="text" id="nome-completo" required>
                        </div>
                        <div class="form-group">
                            <label for="email">E-mail</label>
                            <input type="email" id="email" required disabled>
                        </div>
                        <button type="submit" class="botao-salvar">Salvar Alterações</button>
                    </form>
                </div>

                <!-- Seção Segurança -->
                <div class="conta-secao" id="seguranca-secao">
                    <h3>Alterar Senha</h3>
                    <form id="form-senha">
                        <div class="form-group">
                            <label for="senha-atual">Senha Atual</label>
                            <input type="password" id="senha-atual" required>
                        </div>
                        <div class="form-group">
                            <label for="nova-senha">Nova Senha</label>
                            <input type="password" id="nova-senha" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmar-senha">Confirmar Nova Senha</label>
                            <input type="password" id="confirmar-senha" required>
                        </div>
                        <button type="submit" class="botao-salvar">Alterar Senha</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAP_vlP5nyEaKrhJpGYbUmWkM74DNtDqdE",
            authDomain: "trabalhopedro-fb2e2.firebaseapp.com",
            projectId: "trabalhopedro-fb2e2",
            storageBucket: "trabalhopedro-fb2e2.firebasestorage.app",
            messagingSenderId: "869516994571",
            appId: "1:869516994571:web:041efff8635ee3ed417f0e"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>


    <!--modal pra editar a imagem do upload usando cropper js -->
    <div id="modal-crop"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
    background:rgba(0,0,0,0.8); align-items:center; justify-content:center; flex-direction:column; z-index:9999;">
        <div style="background:#111; padding:20px; border-radius:10px; text-align:center;">
            <img id="crop-image" style="max-width:400px; max-height:400px;" />
            <div style="margin-top:15px;">
                <button id="btn-crop">Cortar & Salvar</button>
                <button id="btn-cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

    <script src="perfil.js"></script>


</body>

</html>