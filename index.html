<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Melodia - Mural</title>

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body>
    <div class="fundo-musical">
        <div class="nota-musical" style="--i:1"><i class="fas fa-music"></i></div>
        <div class="nota-musical" style="--i:2"><i class="fas fa-music"></i></div>
        <div class="nota-musical" style="--i:3"><i class="fas fa-music"></i></div>
        <div class="nota-musical" style="--i:4"><i class="fas fa-music"></i></div>
        <div class="nota-musical" style="--i:5"><i class="fas fa-music"></i></div>
    </div>

    <div class="user-header">
        <span id="userInfo">Visitante</span>
        <button id="btnLogin" class="botao-login">Fazer Login</button>
        <button id="btnLogout" class="botao-logout" style="display: none;">Sair</button>
        <a href="/perfil/perfil.html" id="btnPerfil" class="botao-perfil">
            <i class="fas fa-user-circle"></i> </a>
    </div>

    <section class="contatos" id="contato">
        <h2>Mural</h2>
        <p>Deixe sua mensagem no nosso mural!</p>

        <form id="form-mensagem" style="display: none;">
            <textarea id="mensagem" name="mensagem" placeholder="Sua mensagem..." required></textarea>
            <input type="file" id="imagem" accept="image/*" onchange="previewImage(event)">
            <label for="imagem">Escolher Imagem</label>
            <div id="image-preview" style="display: none; margin: 10px 0;">
                <img id="preview" style="max-width: 300px; max-height: 300px;">
                <button type="button" onclick="removeImage()" style="margin-left: 10px;">Remover</button>
            </div>
            <button type="submit">Enviar Mensagem</button>
        </form>


        <div id="login-required" class="mensagem-login">
            <p>Fa√ßa login para enviar e visualizar mensagens.</p>
            <button id="btnLoginPage" class="botao-login">Ir para Login</button>
        </div>

        <div class="mensagens-container" id="mensagens-container">
        </div>
    </section>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAP_vlP5nyEaKrhJpGYbUmWkM74DNtDqdE",
            authDomain: "trabalhopedro-fb2e2.firebaseapp.com",
            projectId: "trabalhopedro-fb2e2",
            storageBucket: "trabalhopedro-fb2e2.firebasestorage.app",
            messagingSenderId: "869516994571",
            appId: "1:869516994571:web:041efff8635ee3ed417f0e"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();


        const mensagensRef = db.collection("mensagens");
    </script>


    <script src="script.js"></script>
</body>

</html>